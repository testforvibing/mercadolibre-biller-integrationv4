# ============================================================
# SERVIDOR
# ============================================================
SERVER_PORT=3000
SERVER_PUBLIC_URL=https://tu-app.onrender.com

# ============================================================
# BILLER - Facturación Electrónica Uruguay
# ============================================================
BILLER_ENVIRONMENT=test
BILLER_TOKEN=tu_token_aqui
BILLER_EMPRESA_ID=123
BILLER_EMPRESA_RUT=219999990019
BILLER_EMPRESA_SUCURSAL=1
BILLER_EMPRESA_NOMBRE=Tu Empresa

# ============================================================
# WIX - Credenciales de App
# ============================================================
# Obtener en: https://dev.wix.com/
WIX_CLIENT_ID=tu_client_id
WIX_CLIENT_SECRET=tu_client_secret
WIX_API_BASE_URL=https://www.wixapis.com
WIX_WEBHOOK_SECRET=tu_webhook_secret

# ============================================================
# WIX - Tokens OAuth (si aplica)
# ============================================================
# Si usas OAuth, completa estos valores
WIX_ACCESS_TOKEN=tu_access_token
WIX_REFRESH_TOKEN=tu_refresh_token
WIX_TOKEN_EXPIRES_AT=2025-12-17T00:00:00.000Z
WIX_SITE_ID=tu_site_id

# ============================================================
# RENDER - Persistencia Automática de Tokens (OPCIONAL)
# ============================================================
# Configura estas variables para que los tokens se actualicen
# automáticamente en Render cuando se renueven.
# Sin esto, deberas actualizar WIX_ACCESS_TOKEN manualmente
# cada vez que el servidor se reinicie.
#
# Obtener RENDER_API_KEY en: https://dashboard.render.com/u/settings#api-keys
# Obtener RENDER_SERVICE_ID: Es el ID de tu servicio (srv-xxxxxxxx)
#
# RENDER_API_KEY=rnd_xxxxxxxxxxxxxxxx
# RENDER_SERVICE_ID=srv-xxxxxxxxxxxxxxxx

# ============================================================
# OPCIONES DE FACTURACIÓN
# ============================================================
VALIDAR_RUT_CON_DGI=true
ENVIAR_COMPROBANTE_CLIENTE=true
AGREGAR_LINK_EN_PEDIDO=true

# ============================================================
# WIX - ENTREGA DE COMPROBANTES
# ============================================================
WIX_INVOICE_DELIVERY_ENABLED=true

# ============================================================
# LOGGING
# ============================================================
LOG_LEVEL=info

# ============================================================
# DGI - URUGUAY
# ============================================================
# Valor de la UI en UYU (actualizar mensualmente)
# Fuente: https://www.ine.gub.uy/unidad-indexada
DGI_VALOR_UI=6.50

# ============================================================
# PROCESAMIENTO
# ============================================================
# Maximo de webhooks concurrentes
MAX_CONCURRENT_WEBHOOKS=3
# Tiempo de deduplicacion en ms (default: 5 minutos)
DEDUPE_WINDOW=300000

# ============================================================
# WIX APP - DASHBOARD Y WIDGET
# ============================================================
# Secret para verificar tokens de instancia de Wix App
# (Si no se configura, usa WIX_CLIENT_SECRET)
# WIX_APP_SECRET=tu_app_secret

# Permitir auth bypass en desarrollo
# NODE_ENV=development
# SKIP_WIX_AUTH=true

# ============================================================
# CUSTOMER API - WIDGET DE COMPROBANTES
# ============================================================
# Origenes permitidos para CORS del widget (separados por coma)
# Dejar vacio o '*' para permitir todos
# CUSTOMER_API_ALLOWED_ORIGINS=https://tusitio.wixsite.com,https://www.tudominio.com
